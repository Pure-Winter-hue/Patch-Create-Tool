<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="VSPatchGen.Gui.MainWindow"
        Width="860" Height="560"
        MinHeight="520"
        WindowStartupLocation="CenterScreen"
        Title="{DynamicResource AppTitle}">

	<Grid Margin="16"
		  RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,*,Auto"
		  ColumnDefinitions="*,Auto">

		<!-- Header row: text + help button -->
		<Grid Grid.Row="0" Grid.ColumnSpan="2" ColumnDefinitions="*,Auto" VerticalAlignment="Center">
			<TextBlock Grid.Column="0"
					   Text="{DynamicResource HeaderInstruction}"
					   Opacity="0.85" />

			<Button Grid.Column="1"
					Width="32" Height="32"
					HorizontalContentAlignment="Center"
					VerticalContentAlignment="Center"
					FontWeight="Bold"
					FontSize="14"
					Content="?"
					ToolTip.Tip="{DynamicResource HelpTooltip}"
					Click="Help_Click"/>
		</Grid>

		<!-- Source -->
		<StackPanel Grid.Row="1" Grid.Column="0" Margin="0,12,12,0">
			<TextBlock Text="{DynamicResource SourceLabel}" />
			<TextBox Name="SourceBox"
					 Watermark="{DynamicResource SourceWatermark}"
					 ToolTip.Tip="{DynamicResource SourceTooltip}"
					 TextChanged="SourceBox_TextChanged"/>
		</StackPanel>
		<Button Grid.Row="1" Grid.Column="1" Margin="0,32,0,0" Width="110"
				Content="{DynamicResource BrowseButton}" Click="BrowseSource_Click"/>

		<!-- Edited -->
		<StackPanel Grid.Row="2" Grid.Column="0" Margin="0,12,12,0">
			<TextBlock Text="{DynamicResource EditedLabel}" />
			<TextBox Name="EditedBox"
					 Watermark="{DynamicResource EditedWatermark}"
					 ToolTip.Tip="{DynamicResource EditedTooltip}"/>
		</StackPanel>
		<Button Grid.Row="2" Grid.Column="1" Margin="0,32,0,0" Width="110"
				Content="{DynamicResource BrowseButton}" Click="BrowseEdited_Click"/>

		<!-- Output -->
		<StackPanel Grid.Row="3" Grid.Column="0" Margin="0,12,12,0">
			<TextBlock Text="{DynamicResource OutputLabel}" />
			<TextBox Name="OutBox"
					 Watermark="{DynamicResource OutputWatermark}"
					 ToolTip.Tip="{DynamicResource OutputTooltip}"/>
		</StackPanel>
		<Button Grid.Row="3" Grid.Column="1" Margin="0,32,0,0" Width="110"
				Content="{DynamicResource SaveAsButton}" Click="BrowseOut_Click"/>

		<!-- Options: wrap so it never crowds the Generate button -->
		<WrapPanel Grid.Row="4" Grid.ColumnSpan="2" Margin="0,14,0,0"
				   Orientation="Horizontal"
				   VerticalAlignment="Top"
				   HorizontalAlignment="Left">

			<StackPanel Width="220" Margin="0,0,24,0" Spacing="4">
				<TextBlock Text="{DynamicResource SideLabel}" />
				<ComboBox Name="SideCombo" SelectedIndex="0"
						  ToolTip.Tip="{DynamicResource SideTooltip}">
					<ComboBoxItem Content="{DynamicResource SideServer}" />
					<ComboBoxItem Content="{DynamicResource SideClient}" />
					<ComboBoxItem Content="{DynamicResource SideBoth}" />
				</ComboBox>
			</StackPanel>

			<StackPanel Width="300" Margin="0,0,24,0" Spacing="4">
				<TextBlock Text="{DynamicResource ArrayModeLabel}" />
				<ComboBox Name="ArrayCombo" SelectedIndex="0"
						  ToolTip.Tip="{DynamicResource ArrayModeTooltip}">
					<ComboBoxItem Content="{DynamicResource ArrayModeIndex}" />
					<ComboBoxItem Content="{DynamicResource ArrayModeReplace}" />
				</ComboBox>
			</StackPanel>

			<!-- File id / domain behavior -->
			<StackPanel Width="360" Margin="0,0,24,0" Spacing="6">
				<TextBlock Text="{DynamicResource TargetFileIdLabel}" />
				<TextBox Name="FileIdBox"
						 IsReadOnly="True"
						 Watermark="{DynamicResource TargetFileIdWatermark}"
						 ToolTip.Tip="{DynamicResource TargetFileIdTooltip}" />
				<CheckBox Name="InferFileIdCheck" IsChecked="True"
						  Content="{DynamicResource InferFileIdLabel}"
						  ToolTip.Tip="{DynamicResource InferFileIdTooltip}"
						  Checked="InferFileIdCheck_Changed"
						  Unchecked="InferFileIdCheck_Changed"/>
			</StackPanel>

			<StackPanel MinWidth="260" Margin="0,0,0,0" VerticalAlignment="Bottom" Spacing="6">
				<CheckBox Name="AutoDependsCheck" IsChecked="True"
						  Content="{DynamicResource AutoDependsLabel}"
						  ToolTip.Tip="{DynamicResource AutoDependsTooltip}" />

				<CheckBox Name="PreferAddMergeCheck" IsChecked="True"
						  Content="{DynamicResource PreferAddMergeLabel}"
						  ToolTip.Tip="{DynamicResource PreferAddMergeTooltip}"/>
			</StackPanel>

		</WrapPanel>


		<!-- Generate button: own row with breathing room -->
		<Border Grid.Row="5" Grid.ColumnSpan="2" Margin="0,18,0,0">
			<Button Height="48"
					MinWidth="280"
					HorizontalAlignment="Center"
					HorizontalContentAlignment="Center"
					VerticalContentAlignment="Center"
					FontSize="16"
					FontWeight="SemiBold"
					Padding="22,10"
					Classes="accent"
					Content="{DynamicResource GenerateButton}"
					Click="Generate_Click"/>
		</Border>

		<!-- Status bar -->
		<Border Grid.Row="7" Grid.ColumnSpan="2" Margin="0,14,0,0"
				Padding="12"
				Background="#151515"
				BorderBrush="#2A2A2A"
				BorderThickness="1"
				CornerRadius="10">
			<Grid ColumnDefinitions="*,Auto" VerticalAlignment="Center">
				<TextBlock Name="StatusText"
						   Grid.Column="0"
						   Text="{DynamicResource StatusReady}"
						   Foreground="#FFFFFF"
						   Opacity="0.92"
						   FontSize="13"
						   TextWrapping="Wrap"/>

				<Button Name="LanguageButton"
						Grid.Column="1"
						Width="34" Height="34"
						Margin="10,0,0,0"
						HorizontalContentAlignment="Center"
						VerticalContentAlignment="Center"
						Content="ðŸŒ"
						ToolTip.Tip="{DynamicResource LanguageTooltip}"
						Click="Language_Click" />
			</Grid>
		</Border>

	</Grid>
</Window>
